<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>F1 Telemetry Dashboard</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
    }

    .container {
      display: flex;
      flex-direction: column;
      min-height: 100%;
    }

    /* ----------------- Panels ----------------- */
    .panel:nth-child(1) { /*Driver Selection*/
      border-bottom: 1px solid #ddd;
      padding: 10px;
      box-sizing: border-box;
    }

    .panel:nth-child(2) { /*Stat Blocks*/
      border-bottom: 1px solid #ddd;
      padding: 10px;
      box-sizing: border-box;
    }

    .panel:nth-child(3) { /*Map Visuals*/
      border-bottom: none;
      padding: 10px;
      box-sizing: border-box;
    }

    /* ----------------- Driver Header ----------------- */
    .driver-header h1 {
      margin: 0 0 5px 0;
    }

    .driver-header p {
      margin: 0 0 10px 0;
      font-weight: bold;
    }

    .teams-container {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 8px;
    }

    .team-block {
      min-width: 132px;
      height: 132px;
      border: 2px solid #ccc;
      border-radius: 8px;
      background: #f9f9f9;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 6px;
      box-sizing: border-box;
    }

    .team-name {
      text-align: center;
      font-size: 0.8rem;
      font-weight: bold;
      margin-bottom: 4px;
    }

    .team-block button {
      flex: 1;
      margin: 3px 0;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      font-size: 0.95rem;
      background: #e10600;
      color: white;
    }

    .team-block button:hover {
      background: #b80500;
    }

    .team-block button.selected {
      background: #005ce6;
    }

    /* ----------------- Middle Panel / Driver Stats ----------------- */
    #middle-panel {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      align-items: flex-start;
      padding: 10px;
      box-sizing: border-box;
      overflow-x: auto;
    }

    .driver-stats {
      width: 300px;
      height: 90%;
      border: 2px solid #555;
      border-radius: 10px;
      background: #f0f0f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 15px;
      box-sizing: border-box;
    }

    .driver-stats h2 {
      margin: 0 0 10px 0;
      font-size: 1.3rem;
      text-align: center;
    }

    /*---------Map Visualization Panel-------------*/
    .map-controls {
  	display: flex;
  	align-items: center;
  	gap: 15px;
  	padding: 5px 0;
    }

    .track-dropdown {
  	padding: 8px 12px;
  	border-radius: 5px;
  	border: 1px solid #ccc;
  	font-size: 1rem;
  	background-color: white;
  	cursor: pointer;
  	flex: 1;
  	max-width: 400px;
    }

    .track-dropdown:focus {
  	outline: none;
  	border-color: #e10600; /* F1 Red */
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- Top section -->
    <div class="panel">
      <div class="driver-header">
        <h1>F1 Telemetry Insights Visual Dashboard</h1>
        <p>Driver Selection</p>

        <div class="teams-container">
          <div class="team-block">
            <div class="team-name">Red Bull</div>
            <button>Verstappen</button>
            <button>Pérez</button>
          </div>
          <div class="team-block">
            <div class="team-name">Ferrari</div>
            <button>Leclerc</button>
            <button>Sainz</button>
          </div>
          <div class="team-block">
            <div class="team-name">Mercedes</div>
            <button>Hamilton</button>
            <button>Russell</button>
          </div>
          <div class="team-block">
            <div class="team-name">McLaren</div>
            <button>Norris</button>
            <button>Piastri</button>
          </div>
          <div class="team-block">
            <div class="team-name">Aston Martin</div>
            <button>Alonso</button>
            <button>Stroll</button>
          </div>
          <div class="team-block">
            <div class="team-name">Alpine</div>
            <button>Gasly</button>
            <button>Ocon</button>
          </div>
          <div class="team-block">
            <div class="team-name">Williams</div>
            <button>Albon</button>
            <button>Sargeant</button>
          </div>
          <div class="team-block">
            <div class="team-name">AlphaTauri</div>
            <button>Tsunoda</button>
            <button>Ricciardo</button>
          </div>
          <div class="team-block">
            <div class="team-name">Alfa Romeo</div>
            <button>Bottas</button>
            <button>Zhou</button>
          </div>
          <div class="team-block">
            <div class="team-name">Haas</div>
            <button>Magnussen</button>
            <button>Hülkenberg</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Middle section -->
    <div class="panel" id="middle-panel">
      <!-- Driver statistic blocks will be injected here -->
    </div>

    <!-- Bottom section -->
    <div class="panel">
	<div class="map-controls">
		<label for="track-select"><strong>Map Visualization:</strong></label>
    		<select id="track-select" class="track-dropdown">
      			<option value="canada">Montreal, Canada - Circuit Gilles Villeneuve</option>
      			<hr>
      			<option value="australia">Melbourne, Australia - Albert Park Circuit</option>
      			<option value="china">Shanghai, China - Shanghai International Circuit</option>
      			<option value="japan">Suzuka, Japan - Suzuka Circuit</option>
      			<option value="bahrain">Sakhir, Bahrain - Bahrain International Circuit</option>
      			<option value="saudi">Jeddah, Saudi Arabia - Jeddah Corniche Circuit</option>
      			<option value="miami">Miami, USA - Miami International Autodrome</option>
      			<option value="imola">Imola, Italy - Autodromo Enzo e Dino Ferrari</option>
      			<option value="monaco">Monaco, Monaco - Circuit de Monaco</option>
      			<option value="spain">Barcelona, Spain - Circuit de Barcelona-Catalunya</option>
      			<option value="austria">Spielberg, Austria - Red Bull Ring</option>
      			<option value="uk">Silverstone, United Kingdom - Silverstone Circuit</option>
      			<option value="belgium">Spa, Belgium - Circuit de Spa-Francorchamps</option>
      			<option value="hungary">Budapest, Hungary - Hungaroring</option>
      			<option value="netherlands">Zandvoort, Netherlands - Circuit Zandvoort</option>
      			<option value="italy">Monza, Italy - Autodromo Nazionale Monza</option>
      			<option value="azerbaijan">Baku, Azerbaijan - Baku City Circuit</option>
      			<option value="singapore">Singapore, Singapore - Marina Bay Street Circuit</option>
      			<option value="usa_austin">Austin, USA - Circuit of the Americas</option>
      			<option value="mexico">Mexico City, Mexico - Autódromo Hermanos Rodríguez</option>
      			<option value="brazil">Sao Paulo, Brazil - Interlagos Circuit</option>
      			<option value="vegas">Las Vegas, USA - Las Vegas Strip Circuit</option>
      			<option value="qatar">Lusail, Qatar - Lusail International Circuit</option>
      			<option value="abudhabi">Abu Dhabi, UAE - Yas Marina Circuit</option>
    		</select>
  	</div>
  	<div id="map-display" style="margin-top: 15px; height: 200px; background: #eee; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #666;">
    		Select a track to view telemetry map
  	</div>
  </div> 

  </div>

  <!-- ----------------- JS for Multi-Driver Selection ----------------- -->
  <script>
    const driverButtons = document.querySelectorAll('.team-block button');
    const middlePanel = document.getElementById('middle-panel');

    const selectedDrivers = new Set();

    driverButtons.forEach(button => {
      button.addEventListener('click', () => {
        const driverName = button.textContent;

        if (selectedDrivers.has(driverName)) {
          selectedDrivers.delete(driverName);
          const driverBlock = document.getElementById(`driver-${driverName.replace(/\s/g, '-')}`);
          if (driverBlock) driverBlock.remove();
          button.classList.remove('selected');
        } else {
          selectedDrivers.add(driverName);
          button.classList.add('selected');

          const statsBlock = document.createElement('div');
          statsBlock.classList.add('driver-stats');
          statsBlock.id = `driver-${driverName.replace(/\s/g, '-')}`;

          const nameLabel = document.createElement('h2');
          nameLabel.textContent = driverName;
          statsBlock.appendChild(nameLabel);

          const chartContainer = document.createElement('div');
          chartContainer.id = `radar-chart-${driverName.replace(/\s/g, '-')}`;
          chartContainer.style.width = '100%';
          chartContainer.style.flex = '1';
          chartContainer.style.display = 'flex';
          chartContainer.style.justifyContent = 'center';
          chartContainer.style.alignItems = 'center';
          chartContainer.textContent = 'Radar chart goes here';
          statsBlock.appendChild(chartContainer);

          middlePanel.appendChild(statsBlock);
        }
      });
    });

    const trackSelect = document.getElementById('track-select');
    const mapDisplay = document.getElementById('map-display');
    const panels = document.querySelectorAll('.panel');
    const mapPanel = panels[panels.length - 1];

    trackSelect.addEventListener('change', (e) => {
    	const selectedValue = e.target.value;

    	if (selectedValue === 'canada') {
    		// 1. Update the content with the image
    		// 2. Reset styles so the image can expand naturally
    		mapDisplay.style.height = 'auto';
    		mapDisplay.style.display = 'block';
    		mapDisplay.style.background = 'transparent';
    
    		mapDisplay.innerHTML = `
      		<div style="text-align: center; padding: 10px;">
        		<img src="track_images/CircuitGillesVilleneuve.png" 
             			alt="Circuit Gilles Villeneuve" 
             			style="max-width: 100%; height: auto; border-radius: 4px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
      		</div>`;
    	} else {
    		// Revert to placeholder style if any other track is selected
    		mapDisplay.style.height = '200px';
    		mapDisplay.style.display = 'flex';
    		mapDisplay.style.background = '#eee';
    		mapDisplay.innerHTML = `Select a track to view telemetry map`;
    	}
    });
  </script>
</body>
</html>

